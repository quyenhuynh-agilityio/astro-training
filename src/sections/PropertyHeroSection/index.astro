---
import Header from '@layouts/Header/index.astro';
import PortableText from '@components/PortableText/index.astro';
import type { PortableTextBlock } from 'sanity';
import type { NavItem, SanityImageType } from '@types-local/common';
import type { Property } from '@types-local/property';

interface HeaderProps {
  logo?: SanityImageType;
  navItems?: NavItem[];
  ctaText?: string;
}

interface Props {
  property: Property & {
    title: PortableTextBlock;
    address: PortableTextBlock;
    price: number;
    pricePerSqft: number;
  };
  header: HeaderProps;
}

const { property, header } = Astro.props as Props;

const { title, address, price, pricePerSqft } = property;
const { logo, navItems, ctaText } = header;
---

<section class="bg-black text-white">
  <Header {logo} {navItems} {ctaText} />
  <div
    class="max-w-7xl px-6 md:px-12 mx-auto py-8 flex flex-col md:flex-row justify-between items-start md:items-center"
  >
    <div>
      <PortableText value={title} />
      <PortableText value={address} />
    </div>

    <div class="mt-6 md:mt-0 text-right">
      <p class="text-2xl font-bold">{price}</p>
      <p class="text-gray-400 text-sm">{pricePerSqft}</p>
    </div>
  </div>
</section>
