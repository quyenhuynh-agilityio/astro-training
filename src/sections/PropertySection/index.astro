---
import Heading from '@components/Heading/index.astro';
import PropertyCard from '@components/PropertyCard/index.astro';
import Select from '@components/Select';
import type { PropertiesSection } from '@types-local/home';

type Props = PropertiesSection;

const { heading, items, filters } = Astro.props as Props;
const { lookingFor, location, propertyType, price } = filters || {};
---

<section class="py-16 bg-bodyBg">
  <div class="max-w-7xl mx-auto px-4">
    <!-- Heading -->
    <Heading title={heading?.title} />

    <div
      class="grid grid-cols-2 md:grid-cols-4 gap-2 bg-white shadow-md rounded-xl my-10 w-full max-w-5xl"
    >
      <Select
        className="w-full border-r border-accent rounded-tl-xl md:rounded-l-xl"
        options={lookingFor}
        name="lookingFor"
        ariaLabel="Looking for"
      />
      <Select
        className="w-full border-r border-accent"
        options={location}
        name="location"
        ariaLabel="Location"
      />
      <Select
        className="w-full border-r border-accent"
        options={propertyType}
        name="propertyType"
        ariaLabel="Property Type"
      />
      <Select
        className="w-full rounded-tr-xl md:rounded-r-xl"
        options={price}
        name="price"
        ariaLabel="Price"
      />
    </div>

    <!-- Property Grid -->
    <ul class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      {
        items?.map((property) => (
          <li id={property.slug.current}>
            <PropertyCard
              slug={property.slug.current}
              image={property.mainImage}
              title={property.title}
              details={property.details}
            />
          </li>
        ))
      }
    </ul>
  </div>
</section>
